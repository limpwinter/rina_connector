@startuml

scale  2048 width
scale  1600 height
package "Model" {

'class RabbitMQ{
'-Producer
'-Consumer
'}
class USER {
  +telegram_id
}

class AUTHORIZED_USER {
  +telegram_id
  +bookTable()
  +getRestaurantInfo()
  +getMenu()
  +giveFeedback()
}
  class Response{
  -telegram_id
  -type:    String
  -status:  Bool
  -text :   String
  -image:   link_to_image


  }

  class Request {
'    +telegram_id
'    +request_type
    ~to_json()
  }
  class MakeOrderRequest{
  +telegram_id
    +request_type
    +to_json()
  }

  class BookingRequest {

    +tableNumber
    +numberOfGuests
     +to_json()
  }

  class RestaurantInfoRequest {
    +telegram_id
    +request_type
     +to_json()
  }

  class MenuRequest {
    +telegram_id
    +request_type
     +to_json()
  }

  class FeedbackRequest {
    +telegram_id
    +request_type
    +feedbackText
     +to_json()
  }


}

package "View" {
  class TelegramView {
    +displayMenu()
    +displayRestaurantInfo()
    +displayBookingForm()
    +displayFeedbackForm()
  }
}

package Rina {
interface RinaAdapter{
push(request)  :   void
pull()  :   response
}

}
package "Controller" {

'  class RMQController{
'  +send_request_to_rmq()
'  }
  class ResponseController{
'  +receive_response_from_rmq()
  +get_response_from_rina() : Response
  +send_response_to_telegram(Response)
  }
  class RequestController{
'  -request:Request
  +send_request_to_Rina(Request)
  +pull_request_from_rmq()  :   Request
  }
  class TelegramController {
    -request: Request
    -view: TelegramView

    +create_request(view)
    +receive_request(request)
    +send_to_telegram(view)
  }
}
Request <|-- BookingRequest
Request <|-- MakeOrderRequest

Request <|-- RestaurantInfoRequest
Request <|-- MenuRequest
Request <|-- FeedbackRequest
'TelegramView *--
TelegramController -right-* TelegramView
'ResponseController -> TelegramController
RinaAdapter -- RequestController
RinaAdapter -- ResponseController
ResponseController - TelegramController
RequestController -- TelegramController
ResponseController -- Response
RequestController - Request
USER <|-- AUTHORIZED_USER
'TelegramController --> Request
'RMQController --> RabbitMQ

@enduml